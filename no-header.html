<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <script type="text/javascript">
      (function () {
          app = {};

          // --- public methods ---
          app.appendNewElement = function (target, tagName, props, cb) {
              var element = Object.assign(window.document.createElement(tagName), props);
              if (cb) {
                  element.onload = function () {
                      cb(null);
                  };
                  element.onerror = function (error) {
                      cb(error);
                  };
              }
              target.appendChild(element);
          };
          app.appendNewElementAsync = function (target, tagName, props) {
              return new Promise(function (resolve, reject) {
                  app.appendNewElement(target, tagName, props, function (error) {
                      if (error){
                          reject(error);
                      } else {
                          resolve();
                      }
                  })
              })
          };

          // -- public properties ---
          app.isDev = window.document.location.hostname === 'localhost';
          app.query = window.document.location.search.slice(1).split('&');
          app.lang = getLangFromQuery() || getLangFromCookie() || 'en';

          // --- initialization ---
          if (app.isDev) {
              Promise.all([
                  enableStyles(),
                  enableScripts()
              ]).catch(console.error);
          }

          // --- private methods ---
          function getLangFromQuery() {
              var param = app.query.find(function (param) {return param.indexOf('lang') === 0});
              return param && param.split('=')[1];
          }
          function getLangFromCookie() {
              var match = window.document.cookie.match(/\blanguage=([a-z]);/i);
              return match && match[1];
          }
          function enableStyles() {
              return Promise.all([
                  app.appendNewElementAsync(window.document.head, 'link', {
                      rel: 'stylesheet/less',
                      type: 'text/css',
                      href: 'styles/main.less'
                  }),
                  app.appendNewElementAsync(window.document.head, 'script', {
                      type: 'text/javascript',
                      src: 'https://unpkg.com/less@2.7.3/dist/less.js'
                  })
              ]);
          }

          function enableScripts() {
              return app.appendNewElementAsync(window.document.head, 'script', {
                  type: 'text/javascript',
                  src: 'https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js'
              }).then(function () {
                  return app.appendNewElementAsync(window.document.head, 'script', {
                      type: 'text/javascript',
                      src: 'assets/plugins.js'
                  });
              }).then(function () {
                  return app.appendNewElementAsync(window.document.head, 'script', {
                      type: 'text/javascript',
                      src: 'assets/custom.js'
                  });
              });
          }
      })()
  </script>
</head>

<body class='no-header-page  wsite-theme-light'>

  <div class="wrapper">
    <div class="cento-header">
      <div class="container">
        <div class="logo">{headline:content}</div>
        <label class="hamburger"><span></span></label>
      </div>
      <div class="nav-wrap">
        <div class="container">
          <div class="nav desktop-nav">{menu}</div>
        </div><!-- end .container -->
      </div><!-- end .nav-wrap -->
    </div><!-- end .header -->

    <div class="content-wrap">
      {{#sections}}
        <div class="container">{content}</div>
      {{/sections}}
    </div><!-- end content-wrap -->

    <div class="footer-wrap">
      <div class="container">
        <div class="footer">{footer}</div>
      </div><!-- end container -->
    </div><!-- end footer-wrap -->
  </div>

  <div class="nav mobile-nav">{menu}</div>
  <script type="text/javascript" src="/files/theme/plugins.js"></script>
  <script type="text/javascript" src="/files/theme/custom.js"></script>
  <div style='display:none'>{title}</div>
</body>
</html>
